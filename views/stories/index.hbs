<h1>Stories</h1>
<div class="row">
    {{!-- In routes/stories.js, stories objects queried from MongoDB are passed in during render --}}
    {{#each stories}}
    <div class="col s12 m4">
        <div class="card">
            <div class="card-image">
                {{!-- NOTE the TRIPLE Curly braces to rendor the html tags instead of string display --}}
                {{!-- user = value of user attribute within the story object --}}
                {{!-- ../loggedUser = global variable from expressjs, defined in app.js --}}
                {{!-- _id = value of _id attribute within the story object --}}
                {{{editIcon user ../loggedUser _id}}}
            </div>
            <div class="card-content center-align">
                <h5>{{title}}</h5>
                <p>{{stripTags (truncate body 150)}}</p>
                <br>
                <div class="chip">
                    <img src="{{user.image}}" alt="">
                    <a href="/stories/user/{{user._id}}">{{user.displayName}}</a>
                </div>
            </div>
            <div class="card-action center-align">
                <a href="/stories/{{_id}}" class="btn grey">Read More</a>
            </div>
        </div>
    </div>
    {{else}}
    <p>No stories to display</p>
    {{/each}}
</div>